1. **멀티 프로세스와 멀티 스레드의 개념과 각각의 장단점을 설명해주세요.** 

- 답 : 멀티 프로세스 : 두 개 이상 다수의 프로세서(`CPU`)가 협력적으로 하나 이상의 작업(`Task`)을 동시에 처리하는 것이다. (병렬 처리)

장점 

- 독립된 구조로 안전성이 높다
- 프로세스 중 하나에 문제가 생겨도 다른 프로세스에 영향을 주지 않기 때문에 작업이 정지되거나 하지 않는다.

단점

- 독립된 메모리 영역이기 때문에 작업량이 많을 수록( 컨텍스트 스위칭이 자주 일어나 주소 공간의 공유가 잦을 경우) 오버헤드가 발생하여 성능 저하가 발생할 수 있음.

멀티 스레드 : 하나의 프로세스에 여러 스레드로 자원을 공유하며 작업을 나누어 수행하는 것이다.

장점

- 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어 자원을 효율적으로 관리할 수 있습니다.
- 스레드 간 데이터를 주고 받는 것이 간단해지고 시스템 자원 소모가 줄어듭니다.

단점

- 자원을 공유하기에 동기화 문제가 발생할 수 있습니다.(병목현상, 데드락)
- 하나의 스레드에 문제가 생기면 전체 프로세스가 영향을 받습니다.

    <br>
   
    1-1. **멀티 스레드 환경에서 스레드는 많으면 많을수록 좋을까요? 이유와 함께 답변해주세요.**

    - 답 : 꼭 많다고 좋은 것은 아닙니다. 왜냐하면 스레드는 데이터와 힙 영역을 공유하는데 어떤 스레드가 다른 스레드에서 사용 중인 변수나 자료구조에 접근해 엉뚱한 값을 읽어오거나 수정할 수 있기 때문에 동기화가 자주 필요하게 됩니다. 하지만 자주 동기화를 진행할 경우 병목 현상 및 데드락 현상으로 인해 성능이 저하될 가능성이 있습니다. 또한 멀티 스레드 환경에서는 각 스레드마다 레지스터, 스택 등이 따로 지정되는 데 너무 많은 스레드를 사용하게 되면 한 CPU가 가지고 있는 레지스터나 스택을 초과할 수 있어 안됩니다. 따라서 사용하고 있는 하드웨어나 병렬화 전략의 효율성에 따라서 스레드 갯수를 조정해야 합니다.

<br>

---
2. **컨텍스트 스위칭이란 무엇인지, 그리고 컨텍스트 스위칭으로 인한 문제가 무엇이 있는지 최대한 자세하게 설명해주세요.**

- 답 : CPU는 한 번에 하나의 프로세스만 실행 가능한데, CPU에서 여러 프로세스를 돌아가면서 작업을 처리하는 과정을 컨텍스트 스위칭이라고 합니다. Context Switching이 발생하게 되면 캐시 초기화, memory Mapping 초기화, Kernel 항상 실행 등 많은 Cost가 소요됩니다.

<br>

---
3. **데드락에 대해 설명하고, 해결 방법을 아는대로 설명해주세요.**

- 답 :
데드락은 **영속적인 블록 상태**를 의미하며 2개 이상의 프로세스들이 공유 자원에 대한 경쟁이나 통신 중에 발생합니다.

데드락의 4가지 조건이 존재합니다.

- 상호 배재 (mutual exclusion)
- 점유 대기(hold and wait)
- 비선점(no preemption)
- 환형 대기(circular wait)

**상호 배재** 

- 둘 이상의 프로세스가 동시에 임계 영역(CS : Critical Section)에 진입하는 것을 방지하기 위해 사용되는 알고리즘
- 공유 자원에 동시 사용 방지

**점유 대기**

프로세스나 스레드가 이미 자원을 점유한 상태에서 다른 자원을 요청하면서 발생합니다. 이 때, 프로세스나 스레드는 현재 점유한 자원을 보유한 채로 추가적인 자원을 기다리게 됩니다. 그러면 자원을 기다리는 동안에도 점유한 자원을 계속 가지고 있게 되어 다른 프로세스나 스레드가 해당 자원을 사용할 수 없게 되고, 상호 간에 자원을 대기하게 되어 교착 상태가 발생할 수 있습니다.

**비선점**

비선점은 작업이 시작되면 중간에 다른 작업에 의해 중단되지 않고 완료될 수 있도록 보장합니다. 이는 작업이 자원을 점유한 상태에서 다른 작업에 의해 선점되지 않는 것을 의미합니다. 그러나 이로 인해 다음과 같은 상황에서 교착 상태가 발생할 수 있습니다.

1. 자원 대기 상태: 한 작업이 자원을 점유한 상태에서 다른 작업이 해당 자원을 기다리고 있을 때 비선점이 적용되면 자원을 점유한 작업이 완료되기 전까지 다른 작업은 자원을 얻을 수 없습니다.
2. 순환적 대기: 비선점으로 인해 작업이 완료될 때까지 자원을 점유한 상태에서 다른 작업이 기다리게 되면, 여러 작업 간에 자원을 순환적으로 대기하는 상황이 발생할 수 있습니다. 

**환형 대기**

환형 대기는 여러 개의 자원이 존재하고, **각 자원은 다음 자원을 요청하면서 환형 구조를 이루는 경우에 발생합니다**. 각 프로세스나 스레드는 **순환적으로 자원을 대기하고 있기 때문에 모든 프로세스나 스레드가 다음 자원을 기다리면서 상호간에 서로 대기하게 됩니다.**

**해결 방법**

1. 교착 상태가 발생하기 위한 4가지 필요충분 조건 중 하나를 설계 단계에서 배제하는 것이 있습니다.
- 상호배제
    - 운영체제에서 반드시 보장해 주어야 함
- 점유 대기
    - 프로세스가 필요한 모든 자원을 한꺼번에 요청
- 비선점
    - 프로세스가 새로운 자원 요청에 실패하면 기존의 자원들을 반납한 후 다시 요청 or 운영체제가 강제적으로 자원을 반납시킴
- 환형 대기
    - **자원 할당 순서 정의**

1. 또한 교착 상태가 발생하지 않게 자원을 할당하는 방법이 있습니다. 다만 이 방법을 사용하려면 미래의 자원 요청 정보가 필요합니다.
    - 예시로는 banker’s algorithm이 있습니다.
2. 아니면 각 프로세스가 실행되는 것을 그냥 둔 뒤에 교착 상태가 발생하게 될 경우 해결하는 방법이 있습니다.
    - 교착 상태에 연관된 프로세스들을 체크포인트 시점으로 롤백한 후 다시 수행 시킴 (교착 상태가 다시 발생할 가능성 존재)
    - 교착 상태가 없어질 때까지 교착 상태에 포함되어 있는 프로세스들 하나씩 종료
    - 교착 상태가 없어질 때까지 교착 상태에 포함되어 있는 자원을 하나씩 선점
