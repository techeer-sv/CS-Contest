1. **멀티 프로세스와 멀티 스레드의 개념과 각각의 장단점을 설명해주세요.** 

- 답 : 멀티 프로세스는 여러 개의 독립적인 프로세스가 각각 독립된 메모리공간을 갖고 동작하는 것 입니다. 각 프로세그 간의 메모리 구분이 필요하거나 독립적인 주소 공간을 가져야 할 경우 사용합니다. 각 프로세스는 독립적으로 실행되기에 하나의 프로세스가 비정상 종료되더라도 다른 프로세스는 영향을 받지 않기에 안전성이 높습니다. 또 각 프로세스는 독립적으로 실행되기에 여러 CPU core에서 동시에 실행이 될 수 있습니다. 하지만 독립된 메모리 영역이기에 Context Switching이 자주 일어나 주소 공간의 공유가 잦을 수록 오버헤드가 발생해 성능 저하가 오며, 멀티 스레드 보다 많은 메모리 공간과 CPU 시간을 차지하는 단점이 있습니다. 

- 멀티 스레드는 하나의 프로세스 내에서 여러 개의 스레드가 공유된 메모리 공간에서 동작하는 것을 말합니다. 스레드는 프로세스 내에서 자원을 공유하기에 스레드간 통신이 간단하고 빠릅니다. 멀티 스레드는 멀테 프로세스에 비해 메모리를 덜 사용하며, 스레드 간의 통신비용 또한 적기에 오버헤드가 적으며 프로세스간 전환보다 효율적이라는 특징을 갖고 있습니다. 하나의 스레드가 비정상 종료되면 전체 스레드가 종료될 위험을 갖고 있고, 한 프로세스 내에서 여러 스레드가 동작하더라도 실제 동시에 실행되는 스레드의 수는 CPU core 수에 제한됩니다. 

    <br>
   
    1-1. **멀티 스레드 환경에서 스레드는 많으면 많을수록 좋을까요? 이유와 함께 답변해주세요.**

    - 답 : 스레드란 프로세스 내에서 실행되는 작업 흐름의 단위로, 멀티 스레드를 사용하면 여러 스레드가 동시에 작업을 수행할 수 있다는 장점이 있고, 스레드는 같은 프로세스 내에서 메모리를 공유하므로 데이터를 공유하고 효율적으로 통신할 수 있습니다. 또 여러 스레드로 나누어 처리를 하면 코드의 모듈화와 유지보수를 향상시킬 수 있다는 장점도 있습니다. 하지만 스레드들은 순서에 상관없이 작업을 처리 할 것이고, 스레드 간의 상호대기로 교착 상태가 발생할 수 도 있습니다. 스레드는 일정한 메모리 공간을 차지하므로, 스레드의 증가는 메모리 소모를 증가시킬 수 있다는 단점도 있습니다. 또 스레드 간 전환은 오버헤드가 발생할 수 있어 스레드의 증가가 컨텍스트 스위칭 비용을 증가시킬 수 도 있습니다. 멀티 스레드를 고려할때 CPU Bound 작업은 CPU 자원을 많이 사용하므로 멀티 스레드를 통해 병렬 처리를 하면 성능 향상되고, 전체 처리 시간 단축도 가능하지만 너무 많은 스레드는 컨텍스트 스위칭 오버헤드를 증가시킬 수 있기에 코어수 +1 일반적입니다. I/O Bound 작업은 IO burst가 많은 프로세스로, 주로 대기 시간이 발생하므로 CPU core의 수보다 2-3배로 스레드를 늘려주는 것이 오버헤드가 늘어나더라도 코어들을 효율적으로 쓸수 있습니다. 따라서 무작정 증가시키는 것은 바람직하지 않으며 프로그램의 특성과 하드웨어의 환경, 동기화 문제 처리 등을 고려해 적절한 스레드 수를 가져야 합니다. 

<br>

---
2. **컨텍스트 스위칭이란 무엇인지, 그리고 컨텍스트 스위칭으로 인한 문제가 무엇이 있는지 최대한 자세하게 설명해주세요.**

- 답 : 컨텍스트 스위칭은 CPU가 한 프로세스나 스레드에서 다른 프로세스나 스레드로 돌아가면서 작업을 처리하는 과정을 말합니다. 컨텍스 스위칭은 현재 실행 중인 프로세스 또는 스레드의 상태(PC, SP, 상태 레지스터 등)를 스레드의 PCB(Process Control Block)에 보관하고 스케줄러에 의해 선택된 다음에 실행할 프로세스 또는 스레드의 상태를 복원합니다. 프로세스 또는 스레드의 실행이 다시 시작되어 해당 작업에 CPU를 점유하게 됩니다.

  컨텍스트 스위칭은 성능에 영향을 미치는데 프로세스나 스레드간 전환에 따라 레지스터의 상태 등을 저장하고 복원하는 작업에 오버헤드가 발생합니다. 또, 캐시의 라인을 비워 캐시 hit rate가 감소하게 되는데, 이로 메모리에 직접적인 접근이 자주 발생해 성능 저하를 유발합니다. 컨텍스트 스위칭이 발생할 때, 공유 자원에 대해 동시접근이 이뤄지는 경우 Race Condition이 발생할 수 있고, 스위칭 중에 두 스레드가 서로 필요한 자원을 기다리는 상태인 Deadlock이 발생할 수도 있습니다. 

<br>

---
3. **데드락에 대해 설명하고, 해결 방법을 아는대로 설명해주세요.**

- 답 : 프로세스가 자원을 얻지 못해 다음 처리를 하지 못하는 상태로 교착상태를 말합니다. 데드락은 4가지 발생 조건이 동시에 성립할때 발생합니다. 1. 상호배제 : 자원은 한번에 한 프로세스만이 사용할 수 있어야 한다. 2. 점유 대기 : 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용하고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 있어야 한다. 3. 비선점 : 다른 프로세스에 할당된 자원은 사용이 끝날 때 까지 강제로 뺏을 수 없어야 한다. 4. 순환대기 : 프로세스의 집합 {P0, P1, ..., Pn}에서 P0는 P1이 점유한 자원을 대기하고, P1은 P2가 점유한 자원을 대기하며, Pn은 P0이 점유한 자원을 대기하는 형태로 순환 대기 해야 한다.

  Deadlock을 예방하기 위해선 교착 상태 발생 조건 중 하나를 제거함으로서 해결할 수 있는데 1. 상호배제의 경우 - 여러 프로세스가 공유자원을 사용할 수 있도록 합니다. 2. 점유대기 - 프로세스가 시작하기 전 필요한 자원을 모두 할당하도록 합니다. 3. 비선점 - 자원을 점유하고 있는 프로세스가 다른 자원이 요구할때 반납하고, 기다리도록 합니다. 4. 순환대기 - 자원에 고유 번호를 할당해 순서대로 자원을 요구하도록 순서를 지정해주도록 합니다.

  Deadlock 발생시 피하는 방법 : 프로세스가 자원을 요구할 때 시스템은 자원 할당 후에도 안정 상태로 남아있게 되는지 사전에 검사해 미리 Deadlock을 피할수 있도록 합니다.

  Deadlock 으로 회복 하는 방법 : Deadlock을 일으킨 프로세스를 종료하거나 할당된 자원을 해제해 회복하는 것입니다. Deadlock 상태의 프로세스를 모두 중지하거나 Deadlock이 제거될때 까지 한개씩 중지하는 방법이 있습니다. 
